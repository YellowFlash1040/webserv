http {

	# ============================
	# Global settings
	# ============================

	# Maximum allowed request body size
	client_max_body_size 20M;

	# custom error pages
	# Bad request
	error_page 400 /errors/400.html;
	
	#Forbidden
	error_page 403 /errors/403.html;
	
	#Not found
	# error_page 404 /errors/404.html;
	
	#Method not allowed
	error_page 405 /errors/405.html;
	
	#Payload too large
	error_page 413 /errors/413.html;
	
	#CGI etc
	error_page 500 /errors/50x.html;

	# ============================
	# First website
	# ============================
	server
	{
		listen 8081;
		server_name localhost;
		root ./assets/www/site1;

		autoindex off;

		location /
		{
			limit_except GET DELETE POST;
			
			index second.html index.html;
			# autoindex on;
		}

		# Directory listing enabled
		location /list/ {
			root ./assets/www/site1;
			autoindex on;
		}
		
		location /special_file {
			alias ./assets/www/site1/special_file.html;
		}
		
		location /alias_dir/ {
			alias ./assets/www/site1/alias_dir/;       # Path to the alias directory on disk
			#index index.html home.html;    # Default index files
			autoindex on;                  # Enable directory listing if no index file found
		}

		# Simple HTTP redirection
		location /oldpage {
			return 301 /newpage;
		}
		
		location /newpage {
			# index index.html;
			autoindex on;
		}
		

		# CGI execution based on extension (.php here as example)
		location /cgi {
			root ./assets/www/site1;
			cgi_pass .php "/usr/bin/php-cgi";
			cgi_pass .py "/usr/bin/py";
		}
	}


	# ============================
	# Second website
	# ============================
	server {
		server_name site2.local;
		listen 0.0.0.0:9090;

		root ./www/site2;

		location / {
			index index.html;
		}

	}
}